Generate a python code for following Feature and its Description. 

Feature: 

    Write a python function to allow the user to make retail payments by scanning a QR code or entering a merchant ID. 

Description: 

    The function should return a promise that resolves to a payment object.

    The payment object should contain the following properties:

    - amount: the amount of the payment

    - currency: the currency of the payment

    - merchant: the merchant ID

    - date: the date of the payment

    - status: the status of the payment (pending, approved, declined)

   

    The function should also have the following behaviour:

    - If the user scans a QR code, the promise should resolve with a payment object with the amount, currency, merchant and date set to the values from the QR code. The status should be set to pending.

    - If the user enters a merchant ID, the promise should resolve with a payment object with the amount, currency, merchant and date set to the values entered by the user. The status should be set to pending.

    - If the user enters a merchant ID that is not recognised, the promise should reject with an error.

    - If the user enters an amount that is not a number, the promise should reject with an error.

    - If the user enters a currency that is not recognised, the promise should reject with an error.

    - If the user enters a date that is not a valid date, the promise should reject with an error.

   

    The function should also log the following messages to the console:

    - If the user scans a QR code, log "Payment of <amount> <currency> to <merchant> on <date> pending"

    - If the user enters a merchant ID, log "Payment of <amount> <currency> to <merchant> on <date> pending"

    - If the user enters a merchant ID that is not recognised, log "Merchant not found"

    - If the user enters an amount that is not a number, log "Invalid amount"

    - If the user enters a currency that is not recognised, log "Invalid currency"

    - If the user enters a date that is not a valid date, log "Invalid date" 
